# impala-parser-helloworld
Helloworld project for the impala-parser. The impala-parser is generated by this patch:
https://gerrit.cloudera.org/c/19023/

## Compilation

Clone the project and modify the url in this section of pom.xml:
```
<repository>
    <id>impala.parser.local.repo</id>
    <url>file:///home/quanlong/workspace/impala-parser-helloworld/local-repo/</url>
    <name>Impala Parser Local Repository</name>
</repository>
```
Then compile with maven:
```
mvn clean package
```

## Usage

Run the Main class using mvn:
```
mvn exec:java
```
Output:
```
Args: impala_sql_text
```
Giving a query string as the input argument:
```
mvn exec:java -Dexec.args='"select * from db1.tbl2"'
```
Output:
```
Parsing select * from db1.tbl2
...
StatementType: class org.apache.impala.analysis.SelectStmt
toSql: SELECT * FROM db1.tbl2
```
Try an INSERT statement:
```
mvn exec:java -Dexec.args='"insert into db1.tbl2 select 1"'
```
Output:
```
StatementType: class org.apache.impala.analysis.InsertStmt
toSql: INSERT INTO TABLE db1.tbl2 SELECT 1
```